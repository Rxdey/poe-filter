import{S as B,_ as D,a as N,g as O,r as A,f as R,b as $}from"./FilterTree-8e010d92.js";import{d as I,r as n,w as L,b as U,e as d,o as r,c as p,a as e,f as a,u as h,t as J,g as k,F as T,h as y,i as j,j as g,k as F,_ as z,l as M,E as q}from"./index-9533db07.js";const G=I("filter",{state:()=>({filterData:null}),actions:{UPDATE_FILTER_DATA(b){this.filterData=b}},getters:{}}),W=["Red","Green","Blue","Brown","White","Yellow","Cyan","Grey","Orange","Pink","Purple"],x=["rgba(255,255,255,1)","rgba(0,0,0,1)","rgba(255,40,0,.9)","rgba(153, 63, 131, 1)","rgba(255, 0, 255, 1)","rgba(255, 128, 192, 1)","rgba(127, 235, 48, 1)","rgba(242, 222, 179, 1)","rgba(170, 158, 130, 1)","rgba(27, 162, 155, 1)","rgba(29, 255, 149, 0.88)"];const Y={class:"filter-prview"},H={class:"style-wrap"},K={class:"style-card"},Q={class:"config-card"},X={class:"form-wrap"},Z={class:"form-item"},ee={class:"field"},le=e("div",{class:"form-label"},"字体大小",-1),te={class:"form-item"},oe=e("div",{class:"form-label"},"文字颜色",-1),ae={class:"form-item"},se=e("div",{class:"form-label"},"背景颜色",-1),ne={class:"form-item"},de=e("div",{class:"form-label"},"边框颜色",-1),re={key:0,class:"form-item"},ie={class:"form-label"},ce={class:"form-item"},ue=e("div",{class:"form-label"},[g("光柱颜色"),e("span",{class:"tip"},"(样式不准确)")],-1),_e={class:"form-item"},fe=e("div",{class:"form-label"},[g("光柱持续可见"),e("span",{class:"tip"},"(一般不动它)")],-1),me={__name:"FilterPrview",props:{data:{type:Object,default:()=>({})}},setup(b){const s=b,l=n({SetBackgroundColor:"",SetBorderColor:"",SetFontSize:25,SetTextColor:""}),i=n(null);return L(()=>s.data,_=>{l.value=_,_.id!==i.value.id&&(i.value=JSON.parse(JSON.stringify(s.data)))}),U(()=>{l.value=s.data,i.value=JSON.parse(JSON.stringify(s.data))}),(_,t)=>{const V=d("el-slider"),c=d("el-color-picker"),S=d("el-switch"),C=d("el-option"),E=d("el-select");return r(),p("div",Y,[e("div",H,[e("div",K,[a(B,{config:l.value,label:s.data.label},null,8,["config","label"])]),e("div",Q,[e("div",X,[e("div",Z,[e("div",ee,[a(V,{modelValue:l.value.SetFontSize,"onUpdate:modelValue":t[0]||(t[0]=o=>l.value.SetFontSize=o),min:1,max:45},null,8,["modelValue"])]),le]),e("div",te,[a(c,{modelValue:l.value.SetTextColor,"onUpdate:modelValue":t[1]||(t[1]=o=>l.value.SetTextColor=o),"show-alpha":"",predefine:h(x)},null,8,["modelValue","predefine"]),oe]),e("div",ae,[a(c,{modelValue:l.value.SetBackgroundColor,"onUpdate:modelValue":t[2]||(t[2]=o=>l.value.SetBackgroundColor=o),"show-alpha":"",predefine:h(x)},null,8,["modelValue","predefine"]),se]),e("div",ne,[a(c,{modelValue:l.value.SetBorderColor,"onUpdate:modelValue":t[3]||(t[3]=o=>l.value.SetBorderColor=o),"show-alpha":"",predefine:h(x)},null,8,["modelValue","predefine"]),de]),l.value.PlayEffect?(r(),p("div",re,[a(S,{modelValue:l.value.PlayEffect.show,"onUpdate:modelValue":t[4]||(t[4]=o=>l.value.PlayEffect.show=o),style:{"--el-switch-on-color":"#f56c6c","--el-switch-off-color":"#555968"}},null,8,["modelValue"]),e("div",ie,J(l.value.PlayEffect.show?"移除光柱":"添加光柱"),1)])):k("",!0),l.value.PlayEffect&&l.value.PlayEffect.show?(r(),p(T,{key:1},[e("div",ce,[a(E,{modelValue:l.value.PlayEffect.Colour,"onUpdate:modelValue":t[5]||(t[5]=o=>l.value.PlayEffect.Colour=o),placeholoder:"光柱颜色"},{default:y(()=>[(r(!0),p(T,null,j(h(W),o=>(r(),F(C,{key:o,label:o,value:o},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),ue]),e("div",_e,[a(S,{modelValue:l.value.PlayEffect.Temp,"onUpdate:modelValue":t[6]||(t[6]=o=>l.value.PlayEffect.Temp=o),style:{"--el-switch-on-color":"#f56c6c","--el-switch-off-color":"#555968"}},null,8,["modelValue"]),fe])],64)):k("",!0)])])])])}}};const ve={class:"home"},pe={class:"tool-bar"},he={class:"card-wrap"},ye={class:"card-aside"},ge={class:"card-main"},be={class:"tip"},Ve={__name:"filter",setup(b){const s=G(),l=n(null),i=n(null),_=n([]),t=n(null),V=n(!1),c=n(""),S=f=>{"status"in f&&(console.log(f),t.value=f)},C=async f=>{const u=f.target.files[0];if(O(u.name)!=="filter"){q.error("请选择.filter格式文件"),document.querySelector("#file").value="";return}const w=await A(u),m=R(w);console.log(m),t.value=null,c.value="",i.value=m,console.log(s),await s.UPDATE_FILTER_DATA(m),_.value=$(m).filter(v=>v.status).map(v=>v.id)},E=()=>{document.querySelector("#file").value="",l.value&&l.value.click()},o=()=>{};return M(()=>{s.UPDATE_FILTER_DATA(null)}),U(()=>{}),(f,u)=>{const w=d("el-button"),m=d("el-input"),v=d("el-dialog");return r(),p(T,null,[e("div",ve,[e("div",pe,[a(w,{round:"",plain:"",onClick:E},{default:y(()=>[g("导入过滤")]),_:1}),a(w,{round:"",type:"danger",plain:"",disabled:!i.value,onClick:o},{default:y(()=>[g("保存")]),_:1},8,["disabled"])]),e("div",he,[e("div",ye,[a(D,{data:h(s).filterData,"default-checked-keys":_.value,onNodeClick:S},null,8,["data","default-checked-keys"]),i.value?k("",!0):(r(),F(N,{key:0},{default:y(()=>[g("请先导入")]),_:1}))]),e("div",ge,[t.value?(r(),F(me,{key:0,data:t.value},null,8,["data"])):k("",!0)])]),e("input",{type:"file",id:"file",onChange:C,hidden:"",ref_key:"inputRef",ref:l},null,544)]),a(v,{modelValue:V.value,"onUpdate:modelValue":u[1]||(u[1]=P=>V.value=P),title:"不想写了，请自行复制替换",class:"update-card-dialog"},{default:y(()=>[e("div",be,[a(m,{modelValue:c.value,"onUpdate:modelValue":u[0]||(u[0]=P=>c.value=P),rows:20,type:"textarea",readonly:""},null,8,["modelValue"])])]),_:1},8,["modelValue"])],64)}}},ke=z(Ve,[["__scopeId","data-v-313ffcaa"]]);export{ke as default};
