import{S as N,_ as M,a as R,g as I,r as L,f as z,b as j}from"./FilterTree-69416ef8.js";import{d as J,r as i,w as U,b as $,e as _,o as n,c as p,a as l,f as o,u as S,t as O,g as k,F as P,h as g,i as A,j as y,k as C,_ as B,l as q,E as G}from"./index-44c0c786.js";const W=J("filter",{state:()=>({filterData:null}),actions:{UPDATE_FILTER_DATA(v){this.filterData=v}},getters:{}}),Y=["Red","Green","Blue","Brown","White","Yellow","Cyan","Grey","Orange","Pink","Purple"],F=["rgba(255,255,255,1)","rgba(0,0,0,1)","rgba(255,40,0,.9)","rgba(153, 63, 131, 1)","rgba(255, 0, 255, 1)","rgba(255, 128, 192, 1)","rgba(127, 235, 48, 1)","rgba(242, 222, 179, 1)","rgba(170, 158, 130, 1)","rgba(27, 162, 155, 1)","rgba(29, 255, 149, 0.88)"];const H={class:"filter-prview"},K={class:"style-wrap"},Q={class:"style-card"},X={class:"config-card"},Z={class:"form-wrap"},ee={class:"form-item"},le={class:"field"},te=l("div",{class:"form-label"},"字体大小",-1),ae={class:"form-item"},oe=l("div",{class:"form-label"},"文字颜色",-1),se={class:"form-item"},ne=l("div",{class:"form-label"},"背景颜色",-1),de={class:"form-item"},re=l("div",{class:"form-label"},"边框颜色",-1),ie={key:0,class:"form-item"},ce={class:"form-label"},ue={class:"form-item"},_e=l("div",{class:"form-label"},[y("光柱颜色"),l("span",{class:"tip"},"(样式不准确)")],-1),fe={class:"form-item"},pe=l("div",{class:"form-label"},[y("光柱持续可见"),l("span",{class:"tip"},"(一般不动它)")],-1),ve={__name:"FilterPrview",props:{data:{type:Object,default:()=>({})}},setup(v){const s=v,e=i({SetBackgroundColor:"",SetBorderColor:"",SetFontSize:25,SetTextColor:""}),c=i(null);return U(()=>s.data,f=>{e.value=f,f.id!==c.value.id&&(c.value=JSON.parse(JSON.stringify(s.data)))}),$(()=>{e.value=s.data,c.value=JSON.parse(JSON.stringify(s.data))}),(f,t)=>{const d=_("el-slider"),u=_("el-color-picker"),r=_("el-switch"),V=_("el-option"),x=_("el-select");return n(),p("div",H,[l("div",K,[l("div",Q,[o(N,{config:e.value,label:s.data.label},null,8,["config","label"])]),l("div",X,[l("div",Z,[l("div",ee,[l("div",le,[o(d,{modelValue:e.value.SetFontSize,"onUpdate:modelValue":t[0]||(t[0]=a=>e.value.SetFontSize=a),min:1,max:45},null,8,["modelValue"])]),te]),l("div",ae,[o(u,{modelValue:e.value.SetTextColor,"onUpdate:modelValue":t[1]||(t[1]=a=>e.value.SetTextColor=a),"show-alpha":"",predefine:S(F)},null,8,["modelValue","predefine"]),oe]),l("div",se,[o(u,{modelValue:e.value.SetBackgroundColor,"onUpdate:modelValue":t[2]||(t[2]=a=>e.value.SetBackgroundColor=a),"show-alpha":"",predefine:S(F)},null,8,["modelValue","predefine"]),ne]),l("div",de,[o(u,{modelValue:e.value.SetBorderColor,"onUpdate:modelValue":t[3]||(t[3]=a=>e.value.SetBorderColor=a),"show-alpha":"",predefine:S(F)},null,8,["modelValue","predefine"]),re]),e.value.PlayEffect?(n(),p("div",ie,[o(r,{modelValue:e.value.PlayEffect.show,"onUpdate:modelValue":t[4]||(t[4]=a=>e.value.PlayEffect.show=a),style:{"--el-switch-on-color":"#f56c6c","--el-switch-off-color":"#555968"}},null,8,["modelValue"]),l("div",ce,O(e.value.PlayEffect.show?"移除光柱":"添加光柱"),1)])):k("",!0),e.value.PlayEffect&&e.value.PlayEffect.show?(n(),p(P,{key:1},[l("div",ue,[o(x,{modelValue:e.value.PlayEffect.Colour,"onUpdate:modelValue":t[5]||(t[5]=a=>e.value.PlayEffect.Colour=a),placeholoder:"光柱颜色"},{default:g(()=>[(n(!0),p(P,null,A(S(Y),a=>(n(),C(V,{key:a,label:a,value:a},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),_e]),l("div",fe,[o(r,{modelValue:e.value.PlayEffect.Temp,"onUpdate:modelValue":t[6]||(t[6]=a=>e.value.PlayEffect.Temp=a),style:{"--el-switch-on-color":"#f56c6c","--el-switch-off-color":"#555968"}},null,8,["modelValue"]),pe])],64)):k("",!0)])])])])}}},me={class:"AddType"},he={__name:"AddType",setup(v){return(s,e)=>(n(),p("div",me))}};const ge={class:"FilterMain filter-prview"},ye={class:"children-list"},be={class:"add-panel"},Ve={__name:"FilterMain",props:{data:{type:Object,default:()=>({})}},setup(v){const s=v,e=i([]),c=(t=0)=>{const d=["#f56c6c","#67c23a","#ebb563","#a37eba","#46cdcf","#f6416c"];return d[Math.floor(Math.random()*d.length)]},f=()=>{};return $(()=>{e.value=s.data.children}),U(()=>s.data,t=>{t&&t.children?e.value=t.children:e.value=[]}),(t,d)=>{const u=_("el-tag");return n(),p("div",ge,[l("div",ye,[(n(!0),p(P,null,A(e.value,(r,V)=>(n(),C(u,{key:r.id,effect:"dark",color:c(V),round:"",size:"large",closable:!r.disabled,hit:!1,onClose:f,class:"chl-tag"},{default:g(()=>[y(O(r.label),1)]),_:2},1032,["color","closable"]))),128)),o(u,{effect:"plain",type:"info",round:"",size:"large",class:"chl-tag add-tag"},{default:g(()=>[y(" + 添加 ")]),_:1})]),l("div",be,[o(he)])])}}},we=B(Ve,[["__scopeId","data-v-efeb549f"]]);const Se={class:"home"},ke={class:"tool-bar"},Ce={class:"card-wrap"},Ee={class:"card-aside"},Pe={class:"card-main"},xe={class:"tip"},Te={__name:"filter",setup(v){const s=W(),e=i(null),c=i(null),f=i([]),t=i(null),d=i(null),u=i(!1),r=i(""),V=m=>{if("status"in m){d.value=null,t.value=m;return}t.value=null,d.value=m,console.log(m)},x=async m=>{const h=m.target.files[0];if(I(h.name)!=="filter"){G.error("请选择.filter格式文件"),document.querySelector("#file").value="";return}const E=await L(h),b=z(E);console.log(b),t.value=null,r.value="",c.value=b,console.log(s),await s.UPDATE_FILTER_DATA(b),f.value=j(b).filter(w=>w.status).map(w=>w.id)},a=()=>{document.querySelector("#file").value="",e.value&&e.value.click()},D=()=>{};return q(()=>{s.UPDATE_FILTER_DATA(null)}),$(()=>{}),(m,h)=>{const E=_("el-button"),b=_("el-input"),w=_("el-dialog");return n(),p(P,null,[l("div",Se,[l("div",ke,[o(E,{round:"",plain:"",onClick:a},{default:g(()=>[y("导入过滤")]),_:1}),o(E,{round:"",type:"danger",plain:"",disabled:!c.value,onClick:D},{default:g(()=>[y("保存")]),_:1},8,["disabled"])]),l("div",Ce,[l("div",Ee,[o(M,{data:S(s).filterData,"default-checked-keys":f.value,onNodeClick:V},null,8,["data","default-checked-keys"]),c.value?k("",!0):(n(),C(R,{key:0},{default:g(()=>[y("请先导入")]),_:1}))]),l("div",Pe,[t.value?(n(),C(ve,{key:0,data:t.value},null,8,["data"])):k("",!0),d.value?(n(),C(we,{key:1,data:d.value},null,8,["data"])):k("",!0)])]),l("input",{type:"file",id:"file",onChange:x,hidden:"",ref_key:"inputRef",ref:e},null,544)]),o(w,{modelValue:u.value,"onUpdate:modelValue":h[1]||(h[1]=T=>u.value=T),title:"不想写了，请自行复制替换",class:"update-card-dialog"},{default:g(()=>[l("div",xe,[o(b,{modelValue:r.value,"onUpdate:modelValue":h[0]||(h[0]=T=>r.value=T),rows:20,type:"textarea",readonly:""},null,8,["modelValue"])])]),_:1},8,["modelValue"])],64)}}},Ue=B(Te,[["__scopeId","data-v-0fe60758"]]);export{Ue as default};
