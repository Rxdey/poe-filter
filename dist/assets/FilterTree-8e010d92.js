import{_ as P,m as w,o as f,c as m,a as u,t as C,g as E,n as L,u as $,e as A,k as j,h as p,p as I,q as T}from"./index-9533db07.js";const Q=s=>s.substring(s.lastIndexOf(".")+1),X=s=>{const t=new FileReader;return t.readAsText(s,"utf-8"),new Promise((e,n)=>{t.onload=function(o){e(o.target.result)},t.onerror=function(){n()}})},Y=(s="")=>{const t=s.split("-");let e=t[0];for(let n=1;n<t.length;n++)e=e+t[n].slice(0,1).toUpperCase()+t[n].slice(1);return e[0].toUpperCase()+e.substring(1)},Z=s=>s.split("-").map(e=>`${e.slice(0,1).toUpperCase()}${e.slice(1)}`).join(" "),v=(s,t=()=>{})=>{const e=document.createElement("textarea");e.value=s,e.class="copy-txt",document.body.appendChild(e),e.select(),document.execCommand("Copy"),document.body.removeChild(e),t()},ee={setItem(s,t){window.localStorage.setItem(s,typeof t=="object"?JSON.stringify(t):t)},getItem(s){let t;try{t=JSON.parse(window.localStorage.getItem(s))}catch{t=window.localStorage.getItem(s)}return t}},O=(s="")=>{var d;const t=s.split(/\n/),e=t.splice(0,1)[0],n=t.reduce((a,c)=>{const g=c.search('"')>-1?c.replace(/#.*/,"").trim().split(/\s"/):c.replace(/#.*/,"").trim().split(/\s/),x=g.splice(0,1);return a[x[0]]=g.flat().join(",").replace(/\"/g,""),a},{}),o={};Object.keys(n).map(a=>{if(["SetBackgroundColor","SetBorderColor","SetTextColor"].includes(a)){const c=n[a].split(",");c.length===4?c[3]=Math.floor(c[3]/255*100)/100:c.push(1),o[a]=`rgba(${c.join(",")})`;return}if(["SetFontSize"].includes(a)){o[a]=parseInt(n[a]);return}if(["DisableDropSound"].includes(a)){o[a]=!0;return}if(["MinimapIcon"].includes(a)){const c=n[a].split(",");o[a]={size:c[0]||"",color:c[1]||"",shape:c[2]||"",show:!0};return}if(["PlayEffect"].includes(a)){const c=n[a].split(",");o[a]={Colour:c[0]||"",Temp:!c[1],show:!0};return}if(["CustomAlertSound"].includes(a)){const c=n[a].split(" ");o[a]={path:c[0],vol:c[1]||"300"};return}return o[a]=n[a]}),o.PlayEffect||(o.PlayEffect={Colour:"White",Temp:!1,show:!1}),o.MinimapIcon||(o.PlayEffect={size:2,color:"White",shape:"Circle",show:!1});const r=(((d=t.find(a=>a.search("SetTextColor")>-1))==null?void 0:d.split("#")[1])||"").trim(),l=e.split(/[#|-]/).map(a=>a.trim());return l.length===1&&l.push(r),{...{status:l[0].trim()==="Show",label:l[l.length-1],disabled:l[l.length-1].endsWith("*"),deepLevel:l.length-1,titleArr:l.length>=3?l.slice(1,l.length-1):l.slice(1,2)},...o}},U=s=>{const t=[];if(!Array.isArray(s))return t;const e={};return s.forEach(n=>{e[n.id]=n}),s.forEach((n,o)=>{let r=e[n.pid];r?(r.children||(r.children=[])).push(n):t.push(n)}),t},h=(s,t="")=>{const e=[];return!Array.isArray(s)||!s.length||s.forEach((n,o)=>{const r=e.findIndex(i=>i.label===n.label),l=`${t?t+"-":""}${o}`;r>-1?e[r].children=h([...e[r].children||[],...n.children||[]],e[r].id):e.push({...n,id:l,pid:t,children:n.children?h(n.children,l):null})}),e},R=s=>{const t=s.map(e=>{const n=e.titleArr.map((o,r)=>{const l={label:o,id:r,pid:r>0?r-1:""};return r===e.titleArr.length-1&&(l.children=[e]),l});return U(n)[0]});return h(t)},te=(s="")=>{const t=s.replace(/\r/g,"").split(/\n\n/).filter(e=>e&&/^[Show|Hide]/.test(e)).map(e=>O(e));return R(t)},B=(s=[])=>s.reduce((t,e)=>(t||(t=[]),e.children?t.push(...B(e.children)):t.push(e),t),[]),ne=(s=[])=>{const t=["titleArr","status","id","pid","className","disabled","label","children","deepLevel"];return s.map(e=>Object.keys(e).reduce((n,o)=>{if(t.includes(o))return n;const r=e[o];if(!n){const i=e.status?"Show":"Hide",d=JSON.parse(JSON.stringify(e.titleArr));return e.label&&d.push(e.label),n=`${i} # ${d.join(" - ")}
`,n}if(o==="BaseType"&&!r)return n;if(!r||o==="DisableDropSound")return n+=`    ${o}
`,n;if(["PlayEffect","MinimapIcon"].includes(o))return delete r.show,n+=`    ${o} ${Object.keys(r).map(i=>r[i]).join(" ")}
`,n;if(Array.isArray(r))return n+=`    ${o} ${r.join(" ")}
`,n;if(o==="CustomAlertSound")return n+=`    ${o} "${r.path}" ${r.vol}
`,n;if(o.endsWith("Color")){const i=r.match(/rgba\((.*)?\)/)[1].split(",");return i[i.length-1]=Math.floor(i[i.length-1]*255),n+=`    ${o} ${i.join(" ").trim()}
`,n}const l=typeof r=="number"?r:r.split(",").join(" ").trim();return n+=`    ${o} ${l}
`,n},"")).join(`
`)};const D={class:"StylePrview"},M={class:"card"},N={key:0,class:"playEffect"},z={__name:"StylePrview",props:{config:{type:Object,default:()=>({})},label:{type:String,default:""}},setup(s){const t=s,e=w(()=>n(t.config)),n=r=>{if(!r)return;const l=["SetBackgroundColor","SetFontSize","SetBorderColor","SetTextColor"],i={};return Object.keys(r).forEach(d=>{if(["SetFontSize"].includes(d)){i[`--${d}`]=`${r[d]*.7}px`;return}["PlayEffect"].includes(d)&&(i["--PlayEffectColour"]=r.PlayEffect.Colour),l.includes(d)&&(i[`--${d}`]=r[d])}),i},o=r=>r.replace("*","");return(r,l)=>(f(),m("div",D,[u("div",{class:"preview",style:L($(e))},[u("div",M,C(o(t.label)),1),t.config.PlayEffect&&t.config.PlayEffect.show?(f(),m("div",N)):E("",!0)],4)]))}},re=P(z,[["__scopeId","data-v-ecfa40d6"]]),F=""+new URL("loading-f197619d.gif",import.meta.url).href,W=""+new URL("loading1-27c80cdd.gif",import.meta.url).href,J=""+new URL("loading2-f3503c1d.gif",import.meta.url).href,H=""+new URL("loading3-abf21fd3.gif",import.meta.url).href,V=""+new URL("loading4-106ad8fd.gif",import.meta.url).href,_=""+new URL("empty-0903478c.gif",import.meta.url).href,y=""+new URL("empty1-f059bcc1.gif",import.meta.url).href,S=""+new URL("empty2-3ad7d369.gif",import.meta.url).href,b=""+new URL("empty3-1d0afe9a.gif",import.meta.url).href;const k=["src"],oe={__name:"Load",props:{type:{default:"loading",type:String}},setup(s){const t=s,e={loading:[F,W,J,H,V,_,y,S,b],empty:[_,y,S,b]},n=w(()=>{const o=e[t.type]||[],r=Math.floor(Math.random()*o.length);return o[r]});return(o,r)=>{const l=A("el-empty");return f(),j(l,null,{image:p(()=>[u("img",{src:$(n)},null,8,k)]),description:p(()=>[I(o.$slots,"default")]),_:3})}}},q={class:"custom-tree-node"},G=u("span",null,null,-1),se={__name:"FilterTree",props:{data:{type:Array,default:()=>[]},defaultProps:{type:Object,default:()=>({children:"children",label:"label"})}},setup(s){const t=s;return(e,n)=>{const o=A("el-tree");return f(),j(o,T({ref:"treeRef",data:t.data,props:t.defaultProps,"node-key":"id","show-checkbox":"","highlight-current":"",indent:8,"empty-text":""},e.$attrs),{default:p(({node:r,data:l})=>[u("span",q,[u("span",null,C(r.label),1),G])]),_:1},16,["data","props"])}}};export{re as S,se as _,oe as a,B as b,ee as c,Y as d,ne as e,te as f,Q as g,v as h,X as r,Z as t};
