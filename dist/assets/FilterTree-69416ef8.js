import{_ as L,m as w,o as f,c as m,a as u,t as C,g as P,n as T,u as $,e as A,k as j,h as p,p as E,q as I}from"./index-44c0c786.js";const X=s=>s.substring(s.lastIndexOf(".")+1),Y=s=>{const n=new FileReader;return n.readAsText(s,"utf-8"),new Promise((e,t)=>{n.onload=function(r){e(r.target.result)},n.onerror=function(){t()}})},Z=(s="")=>{const n=s.split("-");let e=n[0];for(let t=1;t<n.length;t++)e=e+n[t].slice(0,1).toUpperCase()+n[t].slice(1);return e[0].toUpperCase()+e.substring(1)},k=s=>s.split("-").map(e=>`${e.slice(0,1).toUpperCase()}${e.slice(1)}`).join(" "),v=(s,n=()=>{})=>{const e=document.createElement("textarea");e.value=s,e.class="copy-txt",document.body.appendChild(e),e.select(),document.execCommand("Copy"),document.body.removeChild(e),n()},ee={setItem(s,n){window.localStorage.setItem(s,typeof n=="object"?JSON.stringify(n):n)},getItem(s){let n;try{n=JSON.parse(window.localStorage.getItem(s))}catch{n=window.localStorage.getItem(s)}return n}},O=(s="")=>{var d;const n=s.split(/\n/),e=n.splice(0,1)[0],t=n.reduce((c,a)=>{const g=a.search('"')>-1?a.replace(/#.*/,"").trim().split(/\s"/):a.replace(/#.*/,"").trim().split(/\s/),x=g.splice(0,1);return c[x[0]]=g.flat().join(",").replace(/\"/g,""),c},{}),r={};Object.keys(t).map(c=>{if(["SetBackgroundColor","SetBorderColor","SetTextColor"].includes(c)){const a=t[c].split(",");a.length===4?a[3]=Math.floor(a[3]/255*100)/100:a.push(1),r[c]=`rgba(${a.join(",")})`;return}if(["SetFontSize"].includes(c)){r[c]=parseInt(t[c]);return}if(["DisableDropSound"].includes(c)){r[c]=!0;return}if(["MinimapIcon"].includes(c)){const a=t[c].split(",");r[c]={size:a[0]||"",color:a[1]||"",shape:a[2]||"",show:!0};return}if(["PlayEffect"].includes(c)){const a=t[c].split(",");r[c]={Colour:a[0]||"",Temp:!!a[1],show:!0};return}if(["CustomAlertSound"].includes(c)){const a=t[c].split(" ");r[c]={path:a[0],vol:a[1]||"300"};return}return r[c]=t[c]}),r.PlayEffect||(r.PlayEffect={Colour:"White",Temp:!1,show:!1}),r.MinimapIcon||(r.MinimapIcon={size:2,color:"White",shape:"Circle",show:!1});const o=(((d=n.find(c=>c.search("SetTextColor")>-1))==null?void 0:d.split("#")[1])||"").trim(),l=e.split(/[#|-]/).map(c=>c.trim());return l.length===1&&l.push(o),{...{status:l[0].trim()==="Show",label:l[l.length-1],disabled:l[l.length-1].endsWith("*"),deepLevel:l.length-1,titleArr:l.length>=3?l.slice(1,l.length-1):l.slice(1,2)},...r}},U=s=>{const n=[];if(!Array.isArray(s))return n;const e={};return s.forEach(t=>{e[t.id]=t}),s.forEach((t,r)=>{let o=e[t.pid];o?(o.children||(o.children=[])).push(t):n.push(t)}),n},h=(s,n="")=>{const e=[];return!Array.isArray(s)||!s.length||s.forEach((t,r)=>{const o=e.findIndex(i=>i.label===t.label),l=`${n?n+"-":""}${r}`;o>-1?e[o].children=h([...e[o].children||[],...t.children||[]],e[o].id):e.push({...t,id:l,pid:n,children:t.children?h(t.children,l):null})}),e},R=s=>{const n=s.map(e=>{const t=e.titleArr.map((r,o)=>{const l={label:r,id:o,pid:o>0?o-1:""};return o===e.titleArr.length-1&&(l.children=[e]),l});return U(t)[0]});return h(n)},te=(s="")=>{const n=s.replace(/\r/g,"").split(/\n\n/).filter(e=>e&&/^[Show|Hide]/.test(e)).map(e=>O(e));return R(n)},B=(s=[])=>s.reduce((n,e)=>(n||(n=[]),e.children?n.push(...B(e.children)):n.push(e),n),[]),ne=(s=[])=>{const n=["titleArr","status","id","pid","className","disabled","label","children","deepLevel"];return s.map(e=>Object.keys(e).reduce((t,r)=>{if(n.includes(r))return t;const o=e[r];if(!t){const i=e.status?"Show":"Hide",d=JSON.parse(JSON.stringify(e.titleArr));return e.label&&d.push(e.label),t=`${i} # ${d.join(" - ")}
`,t}if(r==="BaseType"&&!o)return t;if(!o||r==="DisableDropSound")return t+=`    ${r}
`,t;if(r==="MinimapIcon")return delete o.show,t+=`    ${r} ${Object.keys(o).map(i=>o[i]).join(" ")}
`,t;if(r==="PlayEffect")return o.show&&(console.log(o.Temp),t+=`    ${r} ${o.Colour}${o.Temp?" Temp":""}
`),t;if(Array.isArray(o))return t+=`    ${r} ${o.join(" ")}
`,t;if(r==="CustomAlertSound")return t+=`    ${r} "${o.path}" ${o.vol}
`,t;if(r.endsWith("Color")){const i=o.match(/rgba\((.*)?\)/)[1].split(",");return i[i.length-1]=Math.floor(i[i.length-1]*255),t+=`    ${r} ${i.join(" ").trim()}
`,t}const l=typeof o=="number"?o:o.split(",").join(" ").trim();return t+=`    ${r} ${l}
`,t},"")).join(`
`)};const M={class:"StylePrview"},D={class:"card"},N={key:0,class:"playEffect"},z={__name:"StylePrview",props:{config:{type:Object,default:()=>({})},label:{type:String,default:""}},setup(s){const n=s,e=w(()=>t(n.config)),t=o=>{if(!o)return;const l=["SetBackgroundColor","SetFontSize","SetBorderColor","SetTextColor"],i={};return Object.keys(o).forEach(d=>{if(["SetFontSize"].includes(d)){i[`--${d}`]=`${o[d]*.7}px`;return}["PlayEffect"].includes(d)&&(i["--PlayEffectColour"]=o.PlayEffect.Colour),l.includes(d)&&(i[`--${d}`]=o[d])}),i},r=o=>o.replace("*","");return(o,l)=>(f(),m("div",M,[u("div",{class:"preview",style:T($(e))},[u("div",D,C(r(n.label)),1),n.config.PlayEffect&&n.config.PlayEffect.show?(f(),m("div",N)):P("",!0)],4)]))}},oe=L(z,[["__scopeId","data-v-ecfa40d6"]]),F=""+new URL("loading-f197619d.gif",import.meta.url).href,W=""+new URL("loading1-27c80cdd.gif",import.meta.url).href,J=""+new URL("loading2-f3503c1d.gif",import.meta.url).href,H=""+new URL("loading3-abf21fd3.gif",import.meta.url).href,V=""+new URL("loading4-106ad8fd.gif",import.meta.url).href,_=""+new URL("empty-0903478c.gif",import.meta.url).href,y=""+new URL("empty1-f059bcc1.gif",import.meta.url).href,S=""+new URL("empty2-3ad7d369.gif",import.meta.url).href,b=""+new URL("empty3-1d0afe9a.gif",import.meta.url).href;const q=["src"],re={__name:"Load",props:{type:{default:"loading",type:String}},setup(s){const n=s,e={loading:[F,W,J,H,V,_,y,S,b],empty:[_,y,S,b]},t=w(()=>{const r=e[n.type]||[],o=Math.floor(Math.random()*r.length);return r[o]});return(r,o)=>{const l=A("el-empty");return f(),j(l,null,{image:p(()=>[u("img",{src:$(t)},null,8,q)]),description:p(()=>[E(r.$slots,"default")]),_:3})}}},G={class:"custom-tree-node"},K=u("span",null,null,-1),se={__name:"FilterTree",props:{data:{type:Array,default:()=>[]},defaultProps:{type:Object,default:()=>({children:"children",label:"label",class:"customTree"})}},setup(s){const n=s;return(e,t)=>{const r=A("el-tree");return f(),j(r,I({ref:"treeRef",data:n.data,props:n.defaultProps,"node-key":"id","show-checkbox":"","highlight-current":"",indent:8,"empty-text":""},e.$attrs),{default:p(({node:o,data:l})=>[u("span",G,[u("span",null,C(o.label),1),K])]),_:1},16,["data","props"])}}};export{oe as S,se as _,re as a,B as b,ee as c,Z as d,ne as e,te as f,X as g,v as h,Y as r,k as t};
